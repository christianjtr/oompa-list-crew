webpackJsonp([1],{0:function(t,e){},"33kb":function(t,e){},"4s8M":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s=i("Dd8w"),o=i.n(s),n=i("NYxO"),r=i("2jId"),c={name:"LayoutHeader",directives:{focus:r.focus},computed:o()({},Object(n.c)(["filter"]),{getLogoImage:function(){return i("ouYh")},searchFilter:{get:function(){return this.filter},set:function(t){this.setOompaFilter({filter:t})}}}),methods:o()({},Object(n.b)(["setOompaFilter"]))},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level header is-flex"},[i("div",{staticClass:"level-item"},[i("router-link",{attrs:{to:"/",title:"Home!",exact:""}},[i("figure",{staticClass:"image is-48x48"},[i("img",{staticClass:"image-logo",attrs:{src:t.getLogoImage,alt:"Image Logo"}})])]),t._v(" "),i("h1",{staticClass:"title is-4 title-style"},[t._v("Oompa Loompa's Crew")])],1),t._v(" "),i("div",{staticClass:"level-item force-align-right"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFilter,expression:"searchFilter"},{name:"focus",rawName:"v-focus",value:!0,expression:"true"}],staticClass:"input search-input",attrs:{type:"text",placeholder:"Search",maxlength:"30",title:"Search"},domProps:{value:t.searchFilter},on:{input:function(e){e.target.composing||(t.searchFilter=e.target.value)}}})])])])])},staticRenderFns:[]};var m={name:"App",components:{"app-header":i("VU/8")(c,l,!1,function(t){i("ar6b")},"data-v-8d209dfe",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container is-fluid is-marginless",attrs:{id:"app"}},[e("header",[e("app-header")],1),this._v(" "),e("main",{staticClass:"container"},[e("router-view")],1)])},staticRenderFns:[]};var u=i("VU/8")(m,p,!1,function(t){i("rTy2")},null,null).exports,d=i("/ocq"),f=i("qK+J"),h=i.n(f),v={name:"OompaItem",props:{item:{type:Object,required:!0}},data:function(){return{oompa:null}},computed:{fullName:function(){return this.item.first_name+" "+this.item.last_name}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{attrs:{to:{path:"/oompas/"+t.item.id,params:{id:t.item.id}},title:"Hi!",exact:""}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-image"},[i("figure",{staticClass:"image is-4by3 is-marginless"},[i("img",{attrs:{src:t.item.image,alt:"Oompa Loompa Image"}})])]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"content has-text-left"},[i("p",{staticClass:"title is-4 margin-bottom-20 truncate"},[t._v(t._s(t.fullName))]),t._v(" "),i("p",{staticClass:"subtitle is-7 is-italic"},[t._v(t._s(t.item.gender))]),t._v(" "),i("p",{staticClass:"subtitle is-7 is-italic"},[t._v(t._s(t.item.profession))])])])])])],1)},staticRenderFns:[]};var O={name:"OompaList",components:{oompa:i("VU/8")(v,g,!1,function(t){i("wXMV")},"data-v-31db0794",null).exports},props:{list:{type:Array,required:!0},filter:{type:String,required:!1}},computed:{filteredList:function(){var t=this;return this.filter?this.list.filter(function(e){return e.first_name.toLowerCase().indexOf(t.filter.toLowerCase())>=0||e.last_name.toLowerCase().indexOf(t.filter.toLowerCase())>=0||e.profession.toLowerCase().indexOf(t.filter.toLowerCase())>=0}):this.list}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns is-multiline is-centered"},[this._l(this.filteredList,function(t,i){return e("div",{key:i,staticClass:"column is-3"},[e("oompa",{attrs:{item:t}})],1)}),this._v(" "),0===this.filteredList.length?e("div",{staticClass:"column is-12"},[e("h3",{staticClass:"title is-3 info"},[this._v("No Oompa's found... :(")])]):this._e()],2)},staticRenderFns:[]};var L={name:"ViewOompaMainList",components:{"oompa-list":i("VU/8")(O,w,!1,function(t){i("4s8M")},"data-v-59c3b8d4",null).exports,InfiniteLoading:h.a},data:function(){return{pageNumber:1,oompaList:null}},beforeCreate:function(){this.$store.dispatch("clearOompaList")},created:function(){var t=this;this.getOompaList(this.pageNumber).then(function(){t.renderList()})},computed:o()({},Object(n.c)(["filter"])),methods:{infiniteHandler:function(t){var e=this;this.getOompaList(this.pageNumber).then(function(){e.renderList(),t.loaded()})},getOompaList:function(t){return this.$store.dispatch("getOompas",{page:t})},renderList:function(){this.oompaList=this.$store.state.oompaList,this.pageNumber++}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns is-multiline is-centered content"},[t._m(0),t._v(" "),t.oompaList?i("div",{staticClass:"column is-12"},[i("oompa-list",{attrs:{list:t.oompaList,filter:t.filter}})],1):t._e(),t._v(" "),i("div",{staticClass:"column is-12"},[t.pageNumber>1?i("infinite-loading",{attrs:{spinner:"bubbles"},on:{infinite:t.infiniteHandler}}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-10 margin-bottom-30"},[e("h1",{staticClass:"title is-1"},[this._v("Find your Oompa Loompa")]),this._v(" "),e("h3",{staticClass:"subtitle is-3"},[this._v("There are more than 100k")])])}]};var y=i("VU/8")(L,b,!1,function(t){i("TtM0")},"data-v-3f1b7b33",null).exports,x={name:"OompaDetail",props:{oompa:{type:Object,required:!0}},data:function(){return{}},computed:{fullName:function(){return this.oompa.first_name+" "+this.oompa.last_name}},methods:{}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("article",{staticClass:"columns is-centered"},[t.oompa.first_name?[i("div",{staticClass:"column is-2 has-text-left"},[i("router-link",{staticClass:"title is-5 info",attrs:{to:"/",title:"Back to crew list"}},[t._v("\n          Back to crew list\n        ")])],1),t._v(" "),i("div",{staticClass:"column is-10 is-paddingless"},[i("section",{staticClass:"columns"},[i("div",{staticClass:"column is-6"},[i("figure",{staticClass:"image"},[i("img",{attrs:{src:t.oompa.image,alt:"Oompa Loompa Image"}})])]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"content has-text-left"},[i("p",{staticClass:"title is-4 margin-bottom-20"},[t._v(t._s(t.fullName))]),t._v(" "),i("p",{staticClass:"subtitle is-7 is-italic"},[t._v(t._s(t.oompa.gender))]),t._v(" "),i("p",{staticClass:"subtitle is-7 is-italic"},[t._v(t._s(t.oompa.profession))]),t._v(" "),i("br"),t._v(" "),i("p",{staticClass:"line-height-1-6",domProps:{innerHTML:t._s(t.oompa.description)}})])])])])]:i("div",{staticClass:"column is-10 is-paddingless"},[i("h3",{staticClass:"title is-3 info"},[t._v("I'am not an Oompa... :(")])])],2)])},staticRenderFns:[]};var C={name:"ViewOompaDetail",components:{"oompa-detail":i("VU/8")(x,S,!1,function(t){i("YpHs")},"data-v-3996ccb2",null).exports},created:function(){var t=this;this.getOompa().then(function(){t.oompa=t.$store.state.oompa})},watch:{$route:"getOompa"},data:function(){return{oompa:null}},methods:{getOompa:function(){return this.$store.dispatch("getOompaById",{id:this.$route.params.id})}},beforeDestroy:function(){this.oompa=null}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"oompa-detail"},[this.oompa?e("div",[e("oompa-detail",{attrs:{oompa:this.oompa}})],1):this._e()])},staticRenderFns:[]};var k=i("VU/8")(C,F,!1,function(t){i("33kb")},"data-v-c2670908",null).exports;a.default.use(d.a);var I=new d.a({mode:"history",routes:[{path:"/",name:"main",component:y},{path:"/oompas",name:"main",component:y},{path:"/oompas/:id",name:"detail",component:k},{path:"*",redirect:"/oompas"}]}),H=i("8+8L"),N=i("UnSZ"),V=i.n(N),X=i("mvHQ"),j=i.n(X);a.default.use(n.a);var J=new n.a.Store({strict:!0,state:{filter:null,oompa:{},oompaList:[],renderOompaListFromService:!0,renderOompaFromService:!0,views:{main:"ViewOompaMainList",detail:"ViewOompaDetail"}},mutations:{clearOompaList:function(t){t.oompaList=[]},setOompaList:function(t,e){t.oompaList=0===t.oompaList.length?e:t.oompaList.concat(e)},setOompa:function(t,e){t.oompa=e},setOompaFilter:function(t,e){t.filter=e},setStoreFlag:function(t,e){e.view===t.views.main?t.renderOompaListFromService=e.flag:e.view===t.views.detail&&(t.renderOompaFromService=e.flag)}},actions:{clearOompaList:function(t){(0,t.commit)("clearOompaList")},getOompas:function(t,e){var i=t.commit,s=t.dispatch,o=t.state;return s("checkStorage",{objectKey:"oommpa_list_"+e.page}).then(function(t){if(!t)return a.default.http.get("https://2q2woep105.execute-api.eu-west-1.amazonaws.com/napptilus/oompa-loompas?page="+e.page).then(function(t){s("setStorageData",{view:o.views.main,page:e.page,list:t.body.results}),i("setOompaList",t.body.results)},function(t){throw t});var n=JSON.parse(localStorage.getItem("oommpa_list_"+e.page));i("setOompaList",n.list)})},getOompaById:function(t,e){var i=t.commit,s=t.dispatch,o=t.state;return s("checkStorage",{objectKey:"oompa_"+e.id}).then(function(t){if(!t)return a.default.http.get("https://2q2woep105.execute-api.eu-west-1.amazonaws.com/napptilus/oompa-loompas/"+e.id).then(function(t){t.body.id=e.id,s("setStorageData",{view:o.views.detail,oompa:t.body}),i("setOompa",t.body)},function(t){throw t});var n=JSON.parse(localStorage.getItem("oompa_"+e.id));i("setOompa",n.oompa)})},setOompaFilter:function(t,e){(0,t.commit)("setOompaFilter",e.filter)},setStorageData:function(t,e){var i=t.commit,a=t.state,s=t.dispatch,o={timeStampString:null,objectKey:e.view===a.views.main?"oommpa_list_"+e.page:"oompa_"+e.oompa.id,limitHours:24},n=e.view===a.views.main?"oompaList":"oompaItem",r=JSON.parse(localStorage.getItem(o.objectKey));if(r)o.timeStampString=r.timpeStamp,s("checkStoredObjectPeriod",o).then(function(t){t.callToService||i("setStoreFlag",{flag:t.callToService,view:e.view})});else{var c={oompaList:{list:e.list,page:e.page,timpeStamp:(new Date).getTime().toString()},oompaItem:{oompa:e.oompa,timpeStamp:(new Date).getTime().toString()}};localStorage.setItem(o.objectKey,j()(c[n])),i("setStoreFlag",{flag:!1,view:e.view})}},checkStoredObjectPeriod:function(t,e){t.state;var i=(new Date).getTime().toString();return{callToService:Math.abs(Math.round((i-e.timeStampString)/1e3/3600))>e.limitHours}},checkStorage:function(t,e){t.state;return!!localStorage.getItem(e.objectKey)}}});a.default.config.productionTip=!1,a.default.use(H.a),a.default.use(V.a),new a.default({el:"#app",router:I,store:J,components:{App:u},template:"<App/>"})},TtM0:function(t,e){},YpHs:function(t,e){},ar6b:function(t,e){},ouYh:function(t,e){t.exports="data:image/png;base64,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"},rTy2:function(t,e){},wXMV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3cefffcdf21d43b07f91.js.map